(self["webpackChunkwakuwaku"]=self["webpackChunkwakuwaku"]||[]).push([[609],{6169:function(t,e,s){
/*!
  * Bootstrap offcanvas.js v5.2.0-beta1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,a){t.exports=a(s(4072),s(1810),s(9286),s(5695),s(8737),s(1358),s(744),s(1127))})(0,(function(t,e,s,a,i,n,o,l){"use strict";const r=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},c=r(e),d=r(s),u=r(a),h=r(i),f=r(n),_=r(o),m="offcanvas",g="bs.offcanvas",p=`.${g}`,b=".data-api",v=`load${p}${b}`,w="Escape",k="show",y="showing",C="hiding",T="offcanvas-backdrop",A=".offcanvas.show",E=`show${p}`,x=`shown${p}`,D=`hide${p}`,L=`hidePrevented${p}`,$=`hidden${p}`,N=`resize${p}`,S=`click${p}${b}`,P=`keydown.dismiss${p}`,W='[data-bs-toggle="offcanvas"]',I={backdrop:!0,keyboard:!0,scroll:!1},F={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class U extends u.default{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return I}static get DefaultType(){return F}static get NAME(){return m}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown)return;const e=d.default.trigger(this._element,E,{relatedTarget:t});if(e.defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new c.default).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(y);const s=()=>{this._config.scroll||this._focustrap.activate(),this._element.classList.add(k),this._element.classList.remove(y),d.default.trigger(this._element,x,{relatedTarget:t})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown)return;const t=d.default.trigger(this._element,D);if(t.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(C),this._backdrop.hide();const e=()=>{this._element.classList.remove(k,C),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new c.default).reset(),d.default.trigger(this._element,$)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{"static"!==this._config.backdrop?this.hide():d.default.trigger(this._element,L)},e=Boolean(this._config.backdrop);return new f.default({className:T,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new _.default({trapElement:this._element})}_addEventListeners(){d.default.on(this._element,P,(t=>{t.key===w&&(this._config.keyboard?this.hide():d.default.trigger(this._element,L))}))}static jQueryInterface(t){return this.each((function(){const e=U.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return d.default.on(document,S,W,(function(e){const s=t.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),t.isDisabled(this))return;d.default.one(s,$,(()=>{t.isVisible(this)&&this.focus()}));const a=h.default.findOne(A);a&&a!==s&&U.getInstance(a).hide();const i=U.getOrCreateInstance(s);i.toggle(this)})),d.default.on(window,v,(()=>{for(const t of h.default.find(A))U.getOrCreateInstance(t).show()})),d.default.on(window,N,(()=>{for(const t of h.default.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&U.getOrCreateInstance(t).hide()})),l.enableDismissTrigger(U),t.defineJQueryPlugin(U),U}))},2776:function(t,e,s){
/*!
  * Bootstrap toast.js v5.2.0-beta1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,a){t.exports=a(s(4072),s(9286),s(5695),s(1127))})(0,(function(t,e,s,a){"use strict";const i=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},n=i(e),o=i(s),l="toast",r="bs.toast",c=`.${r}`,d=`mouseover${c}`,u=`mouseout${c}`,h=`focusin${c}`,f=`focusout${c}`,_=`hide${c}`,m=`hidden${c}`,g=`show${c}`,p=`shown${c}`,b="fade",v="hide",w="show",k="showing",y={animation:"boolean",autohide:"boolean",delay:"number"},C={animation:!0,autohide:!0,delay:5e3};class T extends o.default{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return C}static get DefaultType(){return y}static get NAME(){return l}show(){const e=n.default.trigger(this._element,g);if(e.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(b);const s=()=>{this._element.classList.remove(k),n.default.trigger(this._element,p),this._maybeScheduleHide()};this._element.classList.remove(v),t.reflow(this._element),this._element.classList.add(w,k),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown())return;const t=n.default.trigger(this._element,_);if(t.defaultPrevented)return;const e=()=>{this._element.classList.add(v),this._element.classList.remove(k,w),n.default.trigger(this._element,m)};this._element.classList.add(k),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(w),super.dispose()}isShown(){return this._element.classList.contains(w)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e;break}if(e)return void this._clearTimeout();const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){n.default.on(this._element,d,(t=>this._onInteraction(t,!0))),n.default.on(this._element,u,(t=>this._onInteraction(t,!1))),n.default.on(this._element,h,(t=>this._onInteraction(t,!0))),n.default.on(this._element,f,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=T.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return a.enableDismissTrigger(T),t.defineJQueryPlugin(T),T}))},1358:function(t,e,s){
/*!
  * Bootstrap backdrop.js v5.2.0-beta1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,a){t.exports=a(s(9286),s(4072),s(4547))})(0,(function(t,e,s){"use strict";const a=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},i=a(t),n=a(s),o="backdrop",l="fade",r="show",c=`mousedown.bs.${o}`,d={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},u={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"};class h extends n.default{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return d}static get DefaultType(){return u}static get NAME(){return o}show(t){if(!this._config.isVisible)return void e.execute(t);this._append();const s=this._getElement();this._config.isAnimated&&e.reflow(s),s.classList.add(r),this._emulateAnimation((()=>{e.execute(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(r),this._emulateAnimation((()=>{this.dispose(),e.execute(t)}))):e.execute(t)}dispose(){this._isAppended&&(i.default.off(this._element,c),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(l),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=e.getElement(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),i.default.on(t,c,(()=>{e.execute(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){e.executeAfterTransition(t,this._getElement(),this._config.isAnimated)}}return h}))},1127:function(t,e,s){
/*!
  * Bootstrap component-functions.js v5.2.0-beta1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(t,a){a(e,s(9286),s(4072))})(0,(function(t,e,s){"use strict";const a=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},i=a(e),n=(t,e="hide")=>{const a=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;i.default.on(document,a,`[data-bs-dismiss="${n}"]`,(function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),s.isDisabled(this))return;const i=s.getElementFromSelector(this)||this.closest(`.${n}`),o=t.getOrCreateInstance(i);o[e]()}))};t.enableDismissTrigger=n,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}))},744:function(t,e,s){
/*!
  * Bootstrap focustrap.js v5.2.0-beta1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,a){t.exports=a(s(9286),s(8737),s(4547))})(0,(function(t,e,s){"use strict";const a=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},i=a(t),n=a(e),o=a(s),l="focustrap",r="bs.focustrap",c=`.${r}`,d=`focusin${c}`,u=`keydown.tab${c}`,h="Tab",f="forward",_="backward",m={trapElement:null,autofocus:!0},g={trapElement:"element",autofocus:"boolean"};class p extends o.default{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return m}static get DefaultType(){return g}static get NAME(){return l}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),i.default.off(document,c),i.default.on(document,d,(t=>this._handleFocusin(t))),i.default.on(document,u,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,i.default.off(document,c))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const s=n.default.focusableChildren(e);0===s.length?e.focus():this._lastTabNavDirection===_?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){t.key===h&&(this._lastTabNavDirection=t.shiftKey?_:f)}}return p}))},1810:function(t,e,s){
/*!
  * Bootstrap scrollbar.js v5.2.0-beta1 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,a){t.exports=a(s(8737),s(3175),s(4072))})(0,(function(t,e,s){"use strict";const a=t=>t&&"object"===typeof t&&"default"in t?t:{default:t},i=a(t),n=a(e),o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",l=".sticky-top",r="padding-right",c="margin-right";class d{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,r,(e=>e+t)),this._setElementAttributes(o,r,(e=>e+t)),this._setElementAttributes(l,c,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,r),this._resetElementAttributes(o,r),this._resetElementAttributes(l,c)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,s){const a=this.getWidth(),i=t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+a)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${s(Number.parseFloat(i))}px`)};this._applyManipulationCallback(t,i)}_saveInitialAttribute(t,e){const s=t.style.getPropertyValue(e);s&&n.default.setDataAttribute(t,e,s)}_resetElementAttributes(t,e){const s=t=>{const s=n.default.getDataAttribute(t,e);null!==s?(n.default.removeDataAttribute(t,e),t.style.setProperty(e,s)):t.style.removeProperty(e)};this._applyManipulationCallback(t,s)}_applyManipulationCallback(t,e){if(s.isElement(t))e(t);else for(const s of i.default.find(t,this._element))e(s)}}return d}))},2722:function(t,e,s){"use strict";s.d(e,{Z:function(){return k}});var a=s(6252);const i={class:"toast-container",style:{"z-index":"1050"}};function n(t,e,s,n,o,l){const r=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.messages,((t,e)=>((0,a.wg)(),(0,a.j4)(r,{key:e,msg:t},null,8,["msg"])))),128))])}var o=s(3577);const l={class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},r={class:"toast-header"},c={class:"me-auto"},d=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),u={key:0,class:"toast-body"};function h(t,e,s,i,n,h){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",r,[(0,a._)("span",{class:(0,o.C_)([`bg-${s.msg.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,a._)("strong",c,(0,o.zw)(s.msg.title),1),d]),s.msg.content?((0,a.wg)(),(0,a.iD)("div",u,(0,o.zw)(s.msg.content),1)):(0,a.kq)("",!0)],512)}var f=s(2776),_=s.n(f),m={name:"ToastModel",props:["msg"],mounted(){const t=this.$refs.toast,e=new(_())(t,{delay:6e3});e.show()}},g=s(3744);const p=(0,g.Z)(m,[["render",h]]);var b=p,v={components:{Toast:b},data(){return{messages:[]}},mounted(){this.$emitter.on("push-message",(t=>{const{style:e,title:s,content:a}=t;this.messages.push({style:e,title:s,content:a})}))}};const w=(0,g.Z)(v,[["render",n],["__scopeId","data-v-6afa8ebd"]]);var k=w},3609:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return _e}});var a=s(6252);const i=t=>((0,a.dD)("data-v-102dde39"),t=t(),(0,a.Cn)(),t),n={class:"container-fluid homeFooter"},o={class:"justify-content-center d-flex"},l=i((()=>(0,a._)("span",{class:"tooltip"},"BackStage",-1))),r=i((()=>(0,a._)("span",null,[(0,a._)("i",{class:"fa-solid fa-warehouse text-white"})],-1))),c=i((()=>(0,a._)("p",{class:"text-white text-center mt-0 mt-md-1"}," 本網站僅供個人作品使用，不提供商業用途 ",-1)));function d(t,e,s,i,d,u){const h=(0,a.up)("LoadingOverlay"),f=(0,a.up)("Navbar"),_=(0,a.up)("router-view"),m=(0,a.up)("router-link"),g=(0,a.up)("ToastMessages");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(h,{active:t.isLoading},null,8,["active"]),(0,a.Wm)(f,{"all-products":this.products,"tag-lists":this.tags},null,8,["all-products","tag-lists"]),(0,a.Wm)(_,{"filtered-list":this.filteredList,"tag-lists":this.tags,onTempSelection:u.changeSelection},null,8,["filtered-list","tag-lists","onTempSelection"]),(0,a._)("footer",null,[(0,a._)("div",n,[(0,a._)("div",o,[(0,a.Wm)(m,{class:"icon mt-4 bkStageBtn",to:"/adminboard/login"},{default:(0,a.w5)((()=>[l,r])),_:1})]),c])]),(0,a.Wm)(g,{class:"end-0",style:{top:"50px"}})],64)}var u=s(3577),h=s(9963);const f=t=>((0,a.dD)("data-v-009f3969"),t=t(),(0,a.Cn)(),t),_={class:"navbar navbar-light bg-gradient homeNbSet py-0 py-lg-2 mb-2 mb-sm-4"},m={class:"container-fluid container-lg px-0 px-md-3"},g=f((()=>(0,a._)("button",{class:"navbar-toggler navbarBtn",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#homeNavbar","aria-controls":"homeNavbar"},[(0,a._)("i",{class:"fa-solid fa-bars"})],-1))),p=f((()=>(0,a._)("h1",{class:"logo",id:"logo"},[(0,a._)("span",null,"W"),(0,a._)("span",null,"a"),(0,a._)("span",null,"k"),(0,a._)("span",null,"u"),(0,a._)("span",null,"W"),(0,a._)("span",null,"a"),(0,a._)("span",null,"k"),(0,a._)("span",null,"u"),(0,a._)("span",null," !")],-1))),b=["carts-length"],v=f((()=>(0,a._)("i",{class:"fa-solid fa-cart-flatbed"},null,-1))),w=[v],k={class:"search-group d-flex justify-content-center"},y={class:"search-input-group"},C=(0,a.uE)('<option value="all" selected data-v-009f3969>全部</option><option value="comic" data-v-009f3969>漫畫</option><option value="lightNovel" data-v-009f3969>輕小說</option><option value="novel" data-v-009f3969>一般小說</option><option value="nonfiction" data-v-009f3969>實用中文書</option>',5),T=[C],A={class:"search-input-text"},E=f((()=>(0,a._)("i",{class:"fa-solid fa-xmark"},null,-1))),x=[E],D=["onClick"],L={class:"m-0"},$=f((()=>(0,a._)("i",{class:"bi bi-search"},null,-1))),N=[$],S=f((()=>(0,a._)("div",{class:"cover_banner"},null,-1))),P={class:"nbList"},W={class:"nbList-ul"},I={class:"nbList-li"},F=f((()=>(0,a._)("i",{class:"fa-regular fa-circle-user"},null,-1))),U=[F],M={class:"nbList-li"},j=f((()=>(0,a._)("i",{class:"fa-regular fa-heart"},null,-1))),O=[j],B={class:"nbList-li"},K=["carts-length"],z=f((()=>(0,a._)("i",{class:"fa-solid fa-cart-flatbed"},null,-1))),V=[z],H={class:"offcanvas offcanvas-start",tabindex:"-1",id:"homeNavbar","aria-labelledby":"offcanvasNavbarLabel",ref:"offcanvas"},Y=f((()=>(0,a._)("div",{class:"offcanvas-header"},[(0,a._)("button",{type:"button",class:"btn-close btn-lg","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1))),q={class:"offcanvas-body ms-lg-auto p-2"},Z={class:"navbar-nav justify-content-start pe-3 ms-1 offcanvas-list"},Q={class:"nav-item"},J=f((()=>(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-regular fa-face-smile"})],-1))),R=(0,a.Uk)(" 全部商品 "),G={class:"nav-item"},X=f((()=>(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-solid fa-arrow-trend-up"})],-1))),tt=(0,a.Uk)(" 人氣熱門 "),et={class:"nav-item"},st=f((()=>(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-solid fa-arrows-down-to-line"})],-1))),at=(0,a.Uk)(" 現在特價 "),it={class:"nav-item"},nt=f((()=>(0,a._)("a",{class:"nav-link dropdown-toggle",id:"offcanvasNavbarDropdown2","data-bs-toggle":"dropdown","data-bs-auto-close":"false","aria-expanded":"false"},[(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-solid fa-book"})]),(0,a.Uk)(" 漫畫分類 ")],-1))),ot={class:"dropdown-menu","aria-labelledby":"offcanvasNavbarDropdown2"},lt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),rt=(0,a.Uk)(" 全部漫畫 "),ct=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),dt=(0,a.Uk)(" 熱門漫畫 "),ut=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),ht=(0,a.Uk)(" 特價漫畫 "),ft=f((()=>(0,a._)("li",null,[(0,a._)("hr")],-1))),_t=f((()=>(0,a._)("i",{class:"fa-solid fa-hashtag"},null,-1))),mt={class:"nav-item"},gt=f((()=>(0,a._)("a",{class:"nav-link dropdown-toggle",id:"offcanvasNavbarDropdown2",role:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"false","aria-expanded":"false"},[(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-solid fa-book-journal-whills"})]),(0,a.Uk)(" 輕小說分類 ")],-1))),pt={class:"dropdown-menu","aria-labelledby":"offcanvasNavbarDropdown2"},bt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),vt=(0,a.Uk)(" 全部輕小說 "),wt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),kt=(0,a.Uk)(" 熱門輕小說 "),yt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),Ct=(0,a.Uk)(" 特價輕小說 "),Tt=f((()=>(0,a._)("li",null,[(0,a._)("hr")],-1))),At=f((()=>(0,a._)("i",{class:"fa-solid fa-hashtag"},null,-1))),Et={class:"nav-item"},xt=f((()=>(0,a._)("a",{class:"nav-link dropdown-toggle",id:"offcanvasNavbarDropdown2",role:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"false","aria-expanded":"false"},[(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-solid fa-book-bookmark"})]),(0,a.Uk)(" 一般小說分類 ")],-1))),Dt={class:"dropdown-menu","aria-labelledby":"offcanvasNavbarDropdown2"},Lt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),$t=(0,a.Uk)(" 全部一般小說 "),Nt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),St=(0,a.Uk)(" 熱門一般小說 "),Pt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),Wt=(0,a.Uk)(" 特價一般小說 "),It=f((()=>(0,a._)("li",null,[(0,a._)("hr")],-1))),Ft=f((()=>(0,a._)("i",{class:"fa-solid fa-hashtag"},null,-1))),Ut={class:"nav-item"},Mt=f((()=>(0,a._)("a",{class:"nav-link dropdown-toggle",id:"offcanvasNavbarDropdown2",role:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"false","aria-expanded":"false"},[(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-solid fa-book-atlas"})]),(0,a.Uk)(" 實用書分類 ")],-1))),jt={class:"dropdown-menu","aria-labelledby":"offcanvasNavbarDropdown2"},Ot=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),Bt=(0,a.Uk)(" 全部實用書 "),Kt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),zt=(0,a.Uk)(" 熱門實用書 "),Vt=f((()=>(0,a._)("i",{class:"fa-solid fa-angles-right"},null,-1))),Ht=(0,a.Uk)(" 特價實用書 "),Yt=f((()=>(0,a._)("li",null,[(0,a._)("hr")],-1))),qt=f((()=>(0,a._)("i",{class:"fa-solid fa-hashtag"},null,-1))),Zt=f((()=>(0,a._)("hr",{class:"bg-dark"},null,-1))),Qt={class:"nav-item"},Jt=f((()=>(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-regular fa-heart"})],-1))),Rt=(0,a.Uk)(" 查看收藏 "),Gt={class:"nav-item"},Xt=f((()=>(0,a._)("span",{class:"nav-item-icon"},[(0,a._)("i",{class:"fa-regular fa-circle-user"})],-1))),te=(0,a.Uk)(" 個人頁面 ");function ee(t,e,s,i,n,o){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",_,[(0,a._)("div",m,[g,(0,a.Wm)(l,{class:"navbar-brand mt-1 mx-auto mx-lg-0 me-lg-auto",to:"/home"},{default:(0,a.w5)((()=>[p])),_:1}),(0,a._)("button",{class:(0,u.C_)(["btn smCartBtn",{"carts-num":0!=o.cartsLength}]),"carts-length":o.cartsLength,onClick:e[0]||(e[0]=e=>t.$router.push("/cart"))},w,10,b),(0,a._)("div",{class:(0,u.C_)(["d-flex justify-content-center mx-auto my-0 order-2 order-lg-0 col-10 col-lg-6",{hide:n.hideSearchBar}]),id:"search-bar"},[(0,a._)("div",k,[(0,a._)("div",y,[(0,a.wy)((0,a._)("select",{class:"form-select search-input-select","onUpdate:modelValue":e[1]||(e[1]=t=>n.searchCategory=t)},T,512),[[h.bM,n.searchCategory]]),(0,a._)("div",A,[(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"Search","aria-label":"Search input","aria-describedby":"search-button","onUpdate:modelValue":e[2]||(e[2]=t=>this.search=t),onKeydown:e[3]||(e[3]=(...t)=>o.keyboardEvent&&o.keyboardEvent(...t))},null,544),[[h.nr,this.search,void 0,{trim:!0}]]),""!==n.search?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"search-clear-btn",title:"Clear",onClick:e[4]||(e[4]=t=>n.search="")},x)):(0,a.kq)("",!0),(0,a._)("ul",{class:(0,u.C_)(["auteComplete search-input-list",n.autoComplete?"":"d-none"])},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.filterProducts,((e,s)=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:(0,u.C_)(n.selectedIndex===s?"bg-selected-item":""),onClick:s=>(t.$router.push(`/product/${e.id}`),n.search="")},[(0,a._)("p",L,(0,u.zw)(e.title),1)],10,D)))),128))],2)])]),(0,a._)("button",{class:"btn btn-outline-secondary search-input-btn",type:"button",id:"search-button",onClick:e[5]||(e[5]=(...t)=>o.searchProduct&&o.searchProduct(...t))},N)])],2),S,(0,a._)("div",P,[(0,a._)("ul",W,[(0,a._)("li",I,[(0,a._)("button",{class:"btn btn-lg nbList-li-btn",onClick:e[6]||(e[6]=e=>t.$router.push("/login"))},U)]),(0,a._)("li",M,[(0,a._)("button",{class:"btn btn-lg nbList-li-btn",onClick:e[7]||(e[7]=e=>t.$router.push("/favors"))},O)]),(0,a._)("li",B,[(0,a._)("button",{class:(0,u.C_)(["btn btn-lg nbList-li-btn cart-btn",{"carts-num":0!=o.cartsLength}]),"carts-length":o.cartsLength,onClick:e[8]||(e[8]=e=>t.$router.push("/cart"))},V,10,K)])])]),(0,a._)("div",H,[Y,(0,a._)("div",q,[(0,a._)("ul",Z,[(0,a._)("li",Q,[(0,a.Wm)(l,{class:"",to:"",onClick:e[9]||(e[9]=t=>(o.routeToFn("all"),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[J,R])),_:1})]),(0,a._)("li",G,[(0,a.Wm)(l,{class:"",to:"",onClick:e[10]||(e[10]=t=>(o.routeToFn("all",!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[X,tt])),_:1})]),(0,a._)("li",et,[(0,a.Wm)(l,{class:"",to:"",onClick:e[11]||(e[11]=t=>(o.routeToFn("all",!1,!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[st,at])),_:1})]),(0,a._)("li",it,[nt,(0,a._)("ul",ot,[(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[12]||(e[12]=t=>(o.routeToFn("comic"),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[lt,rt])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[13]||(e[13]=t=>(o.routeToFn("comic",!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[ct,dt])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[14]||(e[14]=t=>(o.routeToFn("comic",!1,!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[ut,ht])),_:1})]),ft,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tagLists.comicTags,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:`comic_tag-${e}`},[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e=>(o.routeToFn("comic",t),n.offcanvas.hide())},{default:(0,a.w5)((()=>[_t,(0,a.Uk)(" "+(0,u.zw)(t),1)])),_:2},1032,["onClick"])])))),128))])]),(0,a._)("li",mt,[gt,(0,a._)("ul",pt,[(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[15]||(e[15]=t=>(o.routeToFn("lightNovel"),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[bt,vt])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[16]||(e[16]=t=>(o.routeToFn("lightNovel",!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[wt,kt])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[17]||(e[17]=t=>(o.routeToFn("lightNovel",!1,!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[yt,Ct])),_:1})]),Tt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tagLists.lightNovelTags,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:`lightNovel_tag-${e}`},[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e=>(o.routeToFn("lightNovel",t),n.offcanvas.hide())},{default:(0,a.w5)((()=>[At,(0,a.Uk)(" "+(0,u.zw)(t),1)])),_:2},1032,["onClick"])])))),128))])]),(0,a._)("li",Et,[xt,(0,a._)("ul",Dt,[(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[18]||(e[18]=t=>(o.routeToFn("novel"),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[Lt,$t])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[19]||(e[19]=t=>(o.routeToFn("novel",!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[Nt,St])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[20]||(e[20]=t=>(o.routeToFn("novel",!1,!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[Pt,Wt])),_:1})]),It,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tagLists.novelTags,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:`novel_tag-${e}`},[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e=>(o.routeToFn("novel",t),n.offcanvas.hide())},{default:(0,a.w5)((()=>[Ft,(0,a.Uk)(" "+(0,u.zw)(t),1)])),_:2},1032,["onClick"])])))),128))])]),(0,a._)("li",Ut,[Mt,(0,a._)("ul",jt,[(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[21]||(e[21]=t=>(o.routeToFn("nonfiction"),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[Ot,Bt])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[22]||(e[22]=t=>(o.routeToFn("nonfiction",!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[Kt,zt])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e[23]||(e[23]=t=>(o.routeToFn("nonfiction",!1,!1,!1,!1,!0),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[Vt,Ht])),_:1})]),Yt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tagLists.nonfictionTags,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:`nonfiction_tag-${e}`},[(0,a.Wm)(l,{class:"dropdown-item",to:"",onClick:e=>(o.routeToFn("nonfiction",t),n.offcanvas.hide())},{default:(0,a.w5)((()=>[qt,(0,a.Uk)(" "+(0,u.zw)(t),1)])),_:2},1032,["onClick"])])))),128))])]),Zt,(0,a._)("li",Qt,[(0,a.Wm)(l,{class:"",to:"/favors",onClick:e[24]||(e[24]=t=>n.offcanvas.hide())},{default:(0,a.w5)((()=>[Jt,Rt])),_:1})]),(0,a._)("li",Gt,[(0,a.Wm)(l,{class:"",to:"",onClick:e[25]||(e[25]=e=>(t.$router.push("/login"),n.offcanvas.hide()))},{default:(0,a.w5)((()=>[Xt,te])),_:1})])])])],512)])])}s(6699);var se=s(6169),ae=s.n(se),ie=s(9872),ne=s.n(ie),oe=s(8357),le=(s(5820),{data(){return{offcanvas:{},searchCategory:"all",tempProductsList:[],hideSearchBar:!1,lastScrollPos:0,search:"",searchArr:[],autoComplete:!1,selectedIndex:-1,carts:{},updatedCart:!1}},props:{allProducts:{type:[Object,Array],default(){return{}}},tagLists:{type:[Object,Array],default(){return{}}}},computed:{filterProducts(){let t=[];const e=this.search;return t=this.tempProductsList.filter((t=>t.title.includes(e))),t&&t.length<=10?t:t.splice(0,10)},cartsLength(){return this.carts.length||0}},watch:{search(){this.search?this.autoComplete=!0:this.autoComplete=!1},searchCategory:{handler(){"all"===this.searchCategory?this.tempProductsList=Array.from(this.allProducts):this.tempProductsList=this.allProducts.filter((t=>t.category===this.searchCategory))},immediate:!0}},methods:{routeToFn:oe.ZP,keyboardEvent(t){if(38===t.keyCode)this.selectedIndex>=0&&this.selectedIndex--;else if(40===t.keyCode){const t=this.filterProducts.length-1;this.selectedIndex<t&&this.selectedIndex++}else 13===t.keyCode?""!==this.search&-1===this.selectedIndex?this.searchProduct():this.filterProducts.forEach(((t,e)=>{this.selectedIndex===e&&(this.search=t.title,this.selectedIndex=-1)})):27===t.keyCode&&(this.search="",this.selectedIndex=-1)},searchProduct(){""!==this.search?(this.$router.push({path:"/search",query:{category:this.searchCategory,search:this.search}}),this.search=""):console.warn("search 沒東西")},getCarts(){const t="https://vue3-course-api.hexschool.io/api/wakuwaku-api/cart";this.$http.get(t).then((t=>{this.carts=t.data.data.carts}))},hideSearch(){const t=window.pageYOffset||document.documentElement.scrollTop;t<0||(this.hideSearchBar=!this.search&&t>this.lastScrollPos,this.lastScrollPos=t)}},created(){this.getCarts(),this.$emitter.on("cartsUpdate",(()=>{this.getCarts()}))},mounted(){this.offcanvas=new(ae())(this.$refs.offcanvas);const t=document.querySelectorAll(".dropdown-toggle");[...t].map((t=>new(ne())(t)));window.addEventListener("scroll",this.hideSearch)},unmounted(){window.removeEventListener("scroll",this.hideSearch)}}),re=s(3744);const ce=(0,re.Z)(le,[["render",ee],["__scopeId","data-v-009f3969"]]);var de=ce,ue=s(2722),he={components:{Navbar:de,ToastMessages:ue.Z},data(){return{products:{},tags:{},productsByDate:[],filteredProducts:[],tempSelection:"comic"}},emits:["temp-selection"],computed:{filteredList(){let t,e,s,a=this.filterByCategory(this.products,this.tempSelection);return t=a.slice(0,11),e=a.filter((t=>!0===t.is_popular)).slice(0,11),s=a.filter((t=>t.origin_price-t.price>0)).slice(0,11),{latestProducts:t,popularProducts:e,onSaleProducts:s}}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/wakuwaku-api/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{if(this.isLoading=!1,t.data.success){const e=Object.values(t.data.products);this.products=this.sortByDate(e),this.tags.comicTags=this.listTags(this.products,"comic"),this.tags.lightNovelTags=this.listTags(this.products,"lightNovel"),this.tags.novelTags=this.listTags(this.products,"novel"),this.tags.nonfictionTags=this.listTags(this.products,"nonfiction")}}))},sortByDate(t){const e=[...t];return e.sort(((t,e)=>t.pub_date>e.pub_date?-1:t.pub_date<e.pub_date?1:0)),e},listTags(t,e){const s=[],a=t.filter((t=>t.category===e));0==a.length&&console.error("wrong category"),a.forEach((t=>{s.push(...t.tags)}));const i=[...new Set(s)];return i},filterByCategory(t,e){const s=Array.from(t);return"all"===e?s:s.filter((t=>t.category===e))},changeSelection(t){this.tempSelection=t}},created(){this.getProducts()}};const fe=(0,re.Z)(he,[["render",d],["__scopeId","data-v-102dde39"]]);var _e=fe}}]);
//# sourceMappingURL=609.7f3756b2.js.map